<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:f="http://xmlns.jcp.org/jsf/core"
              xmlns:h="http://xmlns.jcp.org/jsf/html"
              xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
              xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
              xmlns:composite="http://java.sun.com/jsf/composite"
              xmlns:c="http://java.sun.com/jsp/jstl/core">

<composite:interface>
    <composite:attribute name="item"/>
</composite:interface>

<composite:implementation>

    <c:set var="item" value="#{cc.attrs.item}"/>

    <div>
        <a href="#" class="show-more-link">
            Mer info
        </a>
        <a href="#" class="show-less-link" style="display: none;">
            Mindre info
        </a>
        <div class="more-info" style="display: none;">
            <table class="embedded-table">
                <thead>
                <tr>
                    <td>Förpackning / uttag</td>
                    <td>Totalt antal / uttag</td>
                    <td>Förskrivare</td>
                    <td class="${empty item.prescribingOrganization ? 'hidden' : ''}">Förskrivande enhet</td>
                    <td>Giltigt t.o.m.</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>#{item.noOfPackagesPerOrder}</td>
                    <td>#{item.noOfArticlesPerOrder}</td>
                    <td>#{item.prescriber.prescriberName}</td>
                    <td class="${empty item.prescribingOrganization ? 'hidden' : ''}">#{item.prescribingOrganization.prescribingOrganizationName}</td>
                    <td>
                        <h:outputText value="#{utilController.toDate(item.lastValidDate)}">
                            <f:convertDateTime pattern="yyyy-MM-dd" timeZone="Europe/Stockholm"/>
                        </h:outputText>
                    </td>
                </tr>
                </tbody>
            </table>

            <table class="embedded-table small-screen">
                <tr>
                    <td class="column-0">Förpackning/uttag</td>
                    <td>#{item.noOfPackagesPerOrder}</td>
                </tr>
                <tr>
                    <td class="column-0">Totalt antal/uttag</td>
                    <td>#{item.noOfArticlesPerOrder}</td>
                </tr>
                <tr>
                    <td class="column-0">Förskrivare</td>
                    <td>#{item.prescriber.prescriberName}</td>
                </tr>
                <tr class="${empty item.prescribingOrganization ? 'hidden' : ''}">
                    <td class="column-0">Förskrivande organisation</td>
                    <td>#{item.prescribingOrganization.prescribingOrganizationName}</td>
                </tr>
                <tr>
                    <td class="column-0">Giltigt t.o.m.</td>
                    <td>
                        <h:outputText value="#{utilController.toDate(item.lastValidDate)}">
                            <f:convertDateTime pattern="yyyy-MM-dd" timeZone="Europe/Stockholm"/>
                        </h:outputText>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</composite:implementation>

</ui:component>
