<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="WEB-INF/xhtml/template/wideContent.xhtml">

    <ui:define name="boxContent">

        <h:messages showSummary="true" styleClass="alert alert-danger"/>

        <ui:include src="WEB-INF/xhtml/include/print.xhtml" />

        <div>
            <h3>Hämta på utlämningsställe</h3>
            <div class="page-introduction">
                <div>
                    <p>
                        Här väljer du utlämningsställe. Du kan även välja att någon annan/kontaktperson ska hämta ut paketet. Det vill säga en annan person än du själv har rättighet att hämta ut paketet.
                    </p>
                </div>
            </div>

            <h:form>

                <h4>
                    Utlämningsställe
                </h4>

                <p>
                    Ditt närmsta utlämningsställe baserat på ditt postnummer <span style="color:rebeccapurple">todo om postnummer inte kan hämtas</span> <a class="toggle-trigger" data-toggle-for="zipInputWrapper">Ändra postnummer</a>
                </p>

                <div id="zipInputWrapper" style="display: none;">
                    <div class="input-group">
                        <label for="zipInput">Postnummer</label>

                        <h:inputText styleClass="postal-number" value="#{collectDeliveryController.zip}" id="zipInput"/>

                        <h:commandButton styleClass="button" value="Sök">
                            <f:ajax onevent="handleProgressWithSpinner" listener="#{collectDeliveryController.updateDeliverySelectItems}" execute="zipInput" render="deliveryPointMenu" />
                        </h:commandButton>

                        <h:graphicImage styleClass="spinner" library="default" name="img/preloader.gif" height="30px" style="display: none;"/>
                    </div>

                </div>

                Valt utlämningsställe <h:selectOneMenu id="deliveryPointMenu" value="#{collectDeliveryController.chosenDeliveryPoint}">
                    <f:selectItems value="#{collectDeliveryController.deliverySelectItems}"/>
                </h:selectOneMenu>


                <div class="right-align">
                    <h:commandButton styleClass="button back-button" value="Bakåt" action="delivery?faces-redirect=true&amp;includeViewParams=true" />
                    <h:commandButton styleClass="button" value="Till adressinformation" action="#{collectDeliveryController.toVerifyDelivery}" />
                </div>
            </h:form>
        </div>
    </ui:define>
</ui:composition>
</html>
